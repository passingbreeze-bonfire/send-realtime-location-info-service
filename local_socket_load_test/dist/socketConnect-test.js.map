{"version":3,"sources":["webpack://typescript/./src/socketConnect-test.ts","webpack://typescript/external \"k6\"","webpack://typescript/external \"k6/ws\"","webpack://typescript/webpack/bootstrap","webpack://typescript/webpack/startup"],"names":[],"mappings":";;;;;;;AAAa;AACb;AACA,4CAA4C;AAC5C;AACA,8CAA6C,CAAC,cAAc,EAAC;AAC7D,2BAA2B,mBAAO,CAAC,GAAO;AAC1C,WAAW,mBAAO,CAAC,GAAI;AACvB,eAAe;AACf,qBAAqB,+DAAsB;AAC3C;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA,2BAA2B,gCAAgC,8BAA8B,EAAE,EAAE;AAC7F,CAAC;AACD;AACA;AACA;AACA,2CAA2C,iCAAiC,EAAE;AAC9E;AACA;AACA;AACA;AACA,aAAa;AACb,kDAAkD,gDAAgD,EAAE;AACpG,4CAA4C,oCAAoC,EAAE;AAClF,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD;;;;;;;;ACrCA,gC;;;;;;;ACAA,mC;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;UCtBA;UACA;UACA;UACA","file":"socketConnect-test.js","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ws_1 = __importDefault(require(\"k6/ws\"));\nvar k6_1 = require(\"k6\");\nexports.default = (function () {\n    var socket_url = process.env.SOCKET_URL;\n    var paramsFromClient = function (num) {\n        return {\n            headers: { 'clientMessage': \"client\" + num + \"-message\" }\n        };\n    };\n    var socket = truckServer();\n    var socketRes = socket(socket_url, paramsFromClient(getRandomInt(1, 5)));\n    k6_1.check(socketRes, { 'status is 101': function (r) { return r && r.status === 101; } });\n});\nfunction truckServer() {\n    var socketServer = function (url, params) {\n        return ws_1.default.connect(url, params, function (socket) {\n            socket.on('open', function () { return console.log('connected'); });\n            socket.on('error', function (e) {\n                if (e.error() != 'websocket: close sent') {\n                    console.log('An unexpected error occured: ', e.error());\n                }\n            });\n            socket.on('message', function (data) { return console.log('Message received: ', data); });\n            socket.on('close', function () { return console.log('disconnected'); });\n        });\n    };\n    return socketServer;\n}\nfunction getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min)) + min; //최댓값은 제외, 최솟값은 포함\n}\n","module.exports = require(\"k6\");;","module.exports = require(\"k6/ws\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(966);\n"],"sourceRoot":""}